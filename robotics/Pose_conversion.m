%% initialize
clc; close all; clear all;
format shortg; format compact;


%% 
syms theta rx ry rz;
RV=[theta,rx,ry,rz];
% [theta,rx,ry,rz]=deal(pi/3,1,0,0);
% N=[0 -rz ry;rz 0 -rx;-ry rx 0];
% R=eye(3)+sin(theta)*N+(1-cos(theta))*N*N
% R=angvec2r(pi/3,[1 0 0])
% 
% N*N


%% 位姿转换
% 旋转矩阵
% 轴角法/旋转矢量
% RPY
% 欧拉角
% 四元数

% R=rotx(pi/2);
% trplot(R);  
% tranimate(R);  %动态图像
% S=R*roty(pi/2); %绕新y轴旋转
% S=rotx(pi/2)*roty(pi/2);
% trplot(S);
% tranimate(S); 
% R=rotz(0.1)*roty(0.2)*rotz(0.3) %ZYZ序列欧拉角
% EU=eul2r(0.1,0.2,0.3)%正运算
% tr2eul(EU) %逆运算
% rpy2tr(pi,-pi,pi/2);  %面板RPY→旋转矩阵 函数
% rpy2tr(0,0,0);
% R=rpy2r(0.1,0.2,0.3)% 横滚俯仰偏航角，莱特布莱恩角，卡尔丹角
% tr2rpy(R) %逆运算
% tr2rpy(T)*180/pi
% tr2rpy(t2r(T))*180/pi
% tr2eul(T)*180/pi
% quaternion(T)
% tr2rotvec(T)
% tr2rpy(T(1:3,1:3))

%q=Quaternion() %四元数，q=s<v1,v2,v3>,q=s+v=s+v1*i+v2*j+v3*k,i^2=j^2=k^2=i*j*k=-1;
% T=rpy2tr(0.1,0.2,0.3)
% q=Quaternion(T)
%位姿描述：Rxyz,Euler,RPY,oavec,angvec,T,R,Q

% 笛卡尔坐标系，方向矢量noa；默认T1为T01，以此类推，标准DH；
% 欧拉角Euler(phi,theta,psi)=rot(z,phi)*rot(y,theta)*rot(z,psi)
% 滚仰偏RPY(phi,theta,psi)=rot(z,phi)*rot(y,theta)*rot(x,psi);%左乘；
% 标准DH，只修改 d a alpha；

% function rotvec(a b c)
% 旋转矢量 k(a b c)=(ka kb kc)=(rx ry rz)
% k=sqrt(rx^2+ry^2+rz^2);% k(rx/k ry/k rz/k)
% theta=0时病态；
% 
% [theta,v]=tr2angvec(R);
% R=angvec2tr(0,[1 0 0])
% [theta,v]=tr2angvec(R)
% rxyz=theta*v
% t2r(R)
% R=angvec2r(pi/2,[1 0 0])
% r2t(R)  
%                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               
% R=rpy2tr(1,2,3)
% [theta,v]=tr2angvec(R)
% [theta,v]=tr2angvec(R) %only tr2,no r2;
% T=angvec2tr(pi/4,[0 1/2^0.5 1/2^0.5])
% T=angvec2tr(2*pi*rand(1),[rand(1) rand(1) rand(1)]);
% T(1,4)=500;T(2,4)=400;T(3,4)=400;
% T=rpy2tr(10*pi/180,0,0)

% % P(1:3)=theta*v
% tr2angvec(R)
% q=quaternion(T)
% quaternion([1 2 3])
% angvec2tr(theta,v)
% theta*180/pi
% tr2rotvec(R) error


